# OS 메모리 관리

> **메모리 관리**
> 

메모리는 운영체제가 시스템의 메모리를 효율적으로 할당, 관리, 회수하는 프로세스를 말한다. 운영체제가 각각의 프로세스별로 나뉘어있는 메모리를 알고 있기 때문에 이를 효율적으로 관리할 수 있는지가 중요하다.

> **가상 메모리**
> 

프로그램(CPU)이 사용하는 주소(논리 주소)와 실제 메모리(RAM+디스크)의 위치를 분리한 것

CPU가 프로그램을 사용하면서 메모리의 여유가 있다라고 생각하고 활동하게끔 해주는 것이 가상메모리

메모리의 크기로부터 제약이 없어지기 때문에 성능적으로 개선될 수 있다

- 논리 주소
    
    CPU가 만들어내는 주소
    
- 물리 주소
    
    메모리에 있는 실제 주소
    
- TLB
    
    논리 주소와 물리 주소의 매핑 table이 존재하는 MMU(CPU ↔ RAM)
    
    논리 주소와 물리주소의 **캐싱이 존재**하여 속도를 높일 수 있다.
    

> **요구 페이징**
> 

- page fault
    
    CPU가 메모리에 요청 했을 때 페이지 table에서 정보가 있는 지 확인
    
    페이지 table에서 valid bit 확인(0/1 여부)
    
    valid bit가 0이라면 해당 물리주소가 하드 디스크에 있다는 의미
    
    frame으로 나뉜 메모리 물리 주소에 적재
    
    CPU가 해당 메모리 사용가능
    

- modified bit(dirty bit)
    
    필요하지 않은 작업이 쓰기 작업하는 것을 막을 수 있다
    
    1 이라면 page가 frame에 적재된 이후 수정 O
    
    0 이라면 page가 frame에 적재된 이후 수정 X
    
    1인 경우에만 RAM에 존재하는 메모리를 하드 디스크에 쓰기 작업을 진행하기 때문에 효율적이다
    
    0인 경우 건들지 않는다
    

> **메모리 관리 전략**
> 

- Swapping

메모리에 할당된 프로세스를 일시적으로 디스크로 옮기고, 그 자리에 다른 프로세스를 올라는 방식

메모리 공간 부족 문제를 해결할 수 있다

> **메모리 단편화**
> 

RAM에서 메모리의 공간이 작은 조각으로 나뉘어져 사용 가능한 메모리가 존재하지만 할당이 불가능 할 때

- 내부 단편화
    
    메모리를 할당할 때 프로세스가 필요한 양보다 더 큰 메모리를 할당하여 공간이 낭비되는 상황
    
- 외부 단편화
    
    메모리가 중간중간 데이터를 집어넣어 총 메모리 공간은 충분하지만 실제로는 할당할 수 없을 때
    

- Paging

하나의 프로세스가 사용하는 메모리 공간이 연속적이어야 한다는 제약을 없앤 메모리 관리 기법

물리 메모리는 Frame이라는 고정된 크기로 분리, 논리 메모리는 페이지라는 고정 크기의 블록으로 분리

Page : **가상** 메모리를 일정한 크기로 나눈 블록

Frame : **물리** 메모리를 일정한 크기로 나눈 블록

둘 다 일정한 크기로 나눈 이유는 메모리의 효율적인 관리를 위해서이다. 페이지와 프레임을 같게 하고 각각 물리, 가상 메모리에서 일치시켰기에 쉽게 찾을 수 있다. 해당 매핑 정보는 “페이지 테이블”에서 관리한다

![스크린샷 2026-01-29 042233.png](%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2026-01-29_042233.png)

이를 통해 외부 단편화 현상이 발생하지 않고 효율적으로 메모리를 사용할 수 있다.

- Segmentation

페이징처럼 메모리를 같은 크기로 나누는 것이 아니라 서로 다른 논리적 단위인 Segment로 분할

Segment+offset 으로 주소 표현(물리적 메모리에도 동일하게 저장)

- Fragmentation

메모리 공간이 충분함에도 프로세스가 메모리가 적재되지 못해 메모리가 낭비되는 현상

쉽게말해 메모리가 흩어져 있어 사이사이 조그만 메모리에 작업을 적재하지 못할 때 생기는 현상을 의미한다

현재 메모리의 프로세스를 한쪽으로 이동시킨다

이때 프로세스의 이동 때문에 시간과 비용이 소요된다

현재 OS에서는 잘 사용하지 않는다

![스크린샷 2026-01-29 041301.png](%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2026-01-29_041301.png)