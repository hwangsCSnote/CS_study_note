# OS 멀티프로세싱과 멀티스레딩

> **멀티프로세싱**
> 

두개 이상의 프로세서가 작업을 동시에 처리하는 것, 하나의 작업이 다수의 프로세서에 의해 처리된다. 

프로세스는 소프트웨어 실행 단위를 의미하고 프로세서는 하드웨어 CPU코어를 의미한다

프로세스가 여러 프로세스로 나눠 작업을 동시에 수행할 때 프로세서가 있기에 동시에 수행할 수 있다. 이를 멀티 프로세싱이라고 부른다

위 설명과 유사하게 멀티 프로세스는 부모-자식으로 이루어져 다중 프로세스를 구성하는 구조이다

부모-자식 프로세스 각각 PID를 가지고 있고 부모 프로세스가 자식 프로세스를 제어할 수 있다. 다만 다른 프로세스인 만큼 다른 작업을 수행할 수 있다.

<img width="789" height="1011" alt="스크린샷_2026-02-14_183333" src="https://github.com/user-attachments/assets/105ec6c0-a30c-4eb1-9615-90fa040a22b1" />


**장점**

1. 프로그램 안정성
    
    각 프로세스가 독립적인 메모리 공간을 차지하고 있기 때문에 다른 프로세스에 영향을 주지 않는다
    
<img width="967" height="652" alt="스크린샷_2026-02-14_181940" src="https://github.com/user-attachments/assets/809260be-4572-4f60-b97d-25a27d4a9e85" />

    
2. 프로그램 병렬성
    
    각 프로세스가 각 코어에서 동시에 실행될 수 있음
    
    영상 인코딩, 파일I/O를 동시에 다른 코어에게 맡겨 실행될 수 있다
    
3. 시스템 확장성
    
    트래픽 증가로 문제가 생긴다면 단순히 서버 확장으로 문제를 해결할 수 있다
    
    예시로 Worker process 갯수를 단순하게 늘리면 이미 나눠진 프로세스를 이관하여 기다리지 않고 병렬처리하게끔 구조를 늘릴 수 있다
    

**단점**

1. 컨텍스트 스위칭 성능저하
    
    프로세스를 스위칭한다고 하면 CPU입장에서
    
    메모리 검색 - CPU캐시 메로리 초기화 - 프로세스 상태 저장 - 불러올 데이터 준비
    
    이처럼 많은 비용이 들어갈 수 밖에 없다
    
2. 자원 공유 비효율성
    
    각 프로세스가 독립적인 메모리 공간을 차지하기 때문에 메모리 사용량이 증가하고 각 프로세스 간의 통신이 어렵다
    

> **멀티스레드**
> 

하나의 프로세스 내에 있는 실행흐름, 멀티 스레드는 하나의 프로세스 안에 여러 개의 스레드가 있는 것을 말한다

예시로 브라우저 내부에서 사용자가 동작할 때 사용자가 서버 데이터베이스에 요청을 누르고 나서 다른 기능도 사용 가능한 이유가 멀티 스레드 덕분이다.

<img width="809" height="603" alt="스크린샷_2026-02-14_184405" src="https://github.com/user-attachments/assets/39d415cf-434d-4b55-b1a8-b1ac63c2308d" />


**장점**

1. 프로세스보다 가벼움
    
    프로세스보다 생성/제거가 간편하다
    
2. 자원 공유 가능
    
    하나의 프로세스안에서 구현하다보니 자원의 효율적인 사용이 가능하다
    
3. 컨텍스트 스위칭 비용 감소

**단점**

1. 각 프로세스가 독립적으로 동작하는 멀티 프로세스는 하나의 프로세스가 죽어도 문제가 없지만, 멀티 스레드는 하나의 스레드에 문제가 생기면 다른 스레드에게도 영향을 줘 전체 프로그램이 종료될 수 있다
2. 데드락
    
    다수의 프로세스나 스레드가 서로 자원을 점유하고 다른 자원을 기다리는 상황에서 발생하는 교착상태
