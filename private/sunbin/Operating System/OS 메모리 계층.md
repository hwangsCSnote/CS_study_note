# OS 메모리 계층

> **메모리 계층**
> 

메모리를 필요에 따라 여러 가지 종류로 나누어 둠을 의미한다

CPU가 메모리에 더 빨리 접근하기 위한 목적으로 만들어졌다

- 메모리 특징

메모리는 지역성이라는 특성을 가진다 지역성은 공간적/시간적 지역성 두가지로 나뉜다

공간적 지역성은 물리적인 메모리 공간 주변에 빠르게 참조할 수 있는 특성을 의미하고

시간적 지역성은 한 번 참조되면 곧바로 참조하기 쉬운 특성을 의미한다

기억장치는 이런 지역성의 원리를 이용해 계층으로 구성해놓는다. 

이를 통해 가격은 최소화 하면서 가능한 빠른 접근 속도를 제공하기 위한 목적이다

![스크린샷 2026-01-29 033601.png](%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2026-01-29_033601.png)

 

> **Register**
> 

CPU 내에서 처리할 명령어나 연산에 사용할 값을 일시적으로 저장해놓는 공간이다

CPU 내부에 있기 때문에 속도가 가장 빠르다

> **Cache**
> 

Cache는 디스크와 CPU 사이에 존재하는 고속의 임시 저장 공간이다. 

캐시는 데이터의 지역성 원리를 기반으로 동작한다. 자주 접근되는 데이터를 미리 저장하여

CPU가 더 빠른 속도로 데이터에 접근할 수 있도록 한다

**데이터를 미리 저장할 때 데이터 정합성, 무결성의 문제가 생기지 않나?

Cache는 데이터 일관성을 유지하기 위해서 MESI 프로토콜을 사용한다

- Modified : 캐시에 있고 수정됨. 아직 메모리 반영 안됨.
- Exclusive : 캐시에만 있고 수정되지 않음.
- Shared : 여러 캐시에 공유 가능. 수정 안됨.
- Invalid : 더 이상 유효하지 않음.

CPU가 캐시를 변경하면 다른 캐시들도 해당 데이터를 무효화한다

**그럼 기본적으로 읽기/쓰기 작업에 대한 비용이 들어가지 않나?

결국 캐시는 하드웨어 비용을 지불하여 속도 측면에서의 이점을 얻어가는 것이다

> **RAM(주기억장치)**
> 

컴퓨터에서 데이터와 명령어를 읽고 쓸 수 있는 메모리 공간, CPU가 실제로 엑세스하는 메모리에 해당

Random Access는 어느 위치에서든 똑같은 속도로 접근하여 읽고 쓸 수 있다는 것을 의미한다.

어느 데이터에 접근하든 전달 속도가 동일하다, 임의의 주소를 정해도 동일한 접근이다라는 의미

> **DISK(보조기억장치)**
> 

데이터를 영구적으로 저장하는 역할

대용량 저장 공간을 가지고 있어 많은 양의 데이터를 저장할 수 있다

RAM과 다르게 영구적으로 데이터를 저장할 수 있다

그렇기에 속도가 느리다