# 데이터 베이스 종류

### Database란?

일반적으로 컴퓨터 시스템에 구조화된 정보 또는 데이터의 체계적인 집합을 의미한다.

### RDBMS

관계형 데이터베이스

모든 데이터를 2차원의 열과 행의 형태로 표현

외래키를 사용하여 테이블간 join 가능

ACID 원칙을 기본으로 구성

**장점**

- 정해진 약속에 따라 데이터를 저장 해야 하기 때문에 명확한 데이터 구조를 가지고 있다
- 각 데이터를 중복 없이 한 번만 저장해도 된다
- 데이터 무결성을 보장한다.

**단점**

- 테이블 간 관계를 맺고 있어 시스템이 커질수록 많은 join문을 요구함
- 성능 향상을 위해 크기를 늘릴 수만 있다(Scale-up), 여러 서버 컴퓨터로 나누는 Scale-out은 불리하다.
- 스키마로 인해 데이터가 유연하지 못하다

**사용하는 경우**

1. 데이터 구조가 명확하고 데이터 변경 가능성이 낮은 경우
2. 데이터 변경이 자주 이뤄지는 시스템

### PostgreSQL

기존 RDBMS는 정형 데이터만을 관리할 수 있음에 비교해서 PostgreSQL는 비정형 데이터도 같이 관리할 수 있게끔 설계된 DB이다.

ORDBMS라고도 불리운다. 객체와 테이블 상속을 정의하여 더 복잡한 데이터 구조로 변환할 수 있다.

JSON 외에도 다양한 데이터 형식에 대한 지원을 제공한다.

**JSON/JSONB**

1. JSON
2. JSONB

일반적으로 알고 있는 텍스트 형식으로 데이터가 저장(JSON)

```c
CREATE TABLE users (
  id BIGSERIAL PRIMARY KEY,
  email TEXT NOT NULL UNIQUE,
  password_hash TEXT NOT NULL,
  profile JSONB => url, url2, url3, url4
);
```

데이터를 바이너리 형태로 분해하여 데이터로 저장(JSONB)

```c
{
  "nickname": "sunbin",
  "avatar": {
    "url": "https://cdn.example.com/u/123/avatar.png",
    "width": 256,
    "height": 256
  },
  "intro": "백엔드 개발자",
  "preferences": {
    "theme": "dark",
    "lang": "ko"
  }
}
```

텍스트 형태로 저장된 JSON에 비해서 DB가 이해할 수 있는 바이너리화로 변환되었다면

빠른 탐색과 CPU 비용을 감소시킬 수 있다.

### NoSQL (Not Only SQL)

SQL뿐만 아니라 다른 특성들도 부가적으로 지원한다는 의미

뛰어난 확장성과 성능을 가지고 있다

테이블간 관계 정의, join이 필요하지 않다

**NoSQL 모델 종류**

- Key-Value DB
    
    k-v 방식으로 데이터 저장
    
    메모리 기반으로 빠르게 데이터를 읽어올 수 있다
    
    ex. Redis, AWS DynamoDB
    
- Document DB
    
    key-Document 형태로 저장
    
    계층적인 데이터 타입(json)으로 저장됨
    
    json을 사용하기 때문에 웹서버에서 데이터를 편하게 주고 받을 수 있다.
    

**장점**

- 스키마가 없어 유연하고 자유롭다
- 성능 향상을 위해 Scale-up/Scale-out 둘 다 가능하다
- 대용량 데이터 저장 가능하다(RDBMS에 비교하여)

**단점**

- 데이터의 일관성이 부족하다
- 데이터 중복 발생 가능(데이터 변경시 모든 컬렉션 update필요)

사용하는 경우

1. 데이터 변경/확장이 필요한 경우
2. 데이터 수정이 많을 경우