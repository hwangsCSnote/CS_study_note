# 프로세스와 스레드  
### 프로세스와 컴파일 과정  

**프로그램**(Program)  
> 컴퓨터가 실행할 수 있는 명령어들의 집합  

ex) 구글 크롬 프로그램(chrome.exe) 실행파일  

<br>
<br>

**프로세스**(Process)  
> 컴퓨터에서 실행 중인 프로그램  
> 각각의 프로세스는 **독립된** 메모리 공간을 할당 받는다.  

**스레드**(Thread)  
> CPU에서 실행되는 단위로, 프로세스 내 작업 흐름을 의미  

**프로그램 실행 과정**  
1. HDD/SSD - 프로그램이 인스턴스화가 일어나며 메모리(RAM)에 올라간다.  
2. CPU - 운영체제 CPU 스케줄러에 따라 프로세스를 실행

**컴파일**(Compile)  
> 사람이 작성한 소스코드를 CPU가 이해하고 실행시킬 수 있는 기계어로 변환하는 과정  


**컴파일 과정**  
1. **전처리** : 소스 코드에서 주석을 제거하고 # include 등 헤더파일을 병합하여 매크로를 치환  
2. **컴파일러** : 오류 처리, 코드 최적화 작업을 하여 어셈블리어로 변환  
3. **어셈블러** : 어셈블리어를 목적 코드(Object Code) 로 변환하여 Object File 생성 (파일형식.o)  
4. **링커** : 프로그램 내 라이브러리 함수 또는 다른 파일들과 목적 코드를 결합하여 실행 파일을 생성   
   (파일형식.exe/파일형식.out)  

<br>
<br>

### 프로세스의 상태  

**생성 상태**  
> fork() 또는 exec() 함수를 통해 프로세스가 생성된 상태. PCB가 할당한다.  

※ fork() : 프로세스를 복사하여 자식 프로세스를 생성하는 함수  
※ exec() : 새롭게 프로세스를 생성하는 함수  

**준비 상태(대기)**  
> 메모리 공간이 충분하면 메모리를 할당받고 아니면 아닌 상태로 대기하며 CPU 스케줄러로부터 CPU 소유권을 기다리는 상태  

**대기 중단 상태**  
> 메모리 부족으로 프로세스가 일시 중단된 상태  

**실행 상태**  
> CPU 소유권과 메모리를 할당받고 프로세스의 명령을 수행 중인 상태  

**대기 상태(중단)**  
> 어떤 이벤트 발생 이후, 기다리면서 프로세스가 차단된 상태  
ex) 프린트 인쇄 버튼 클릭 시, 프로세스가 잠깐 멈추는 상태 (I/O 디바이스에 의한 인터럽트 현상)  

**일시 중단 상태**  
> 대기 중단 상태와 유사하게 중단된 상태에서 프로세스가 실행되려다 메모리 부족으로 일시 중단된 상태  

**종료 상태**  
> 메모리와 CPU 소유권을 모두 놓고 가는 상태  
ex) process.kill  

<br>
<br>

### 프로세스의 메모리 구조  

**스택 영역**  
- 동적으로 할당되는 영역  
- **지역 변수**, **매개 변수**, **리턴 값** 등 잠시 사용하고 사라지는 데이터를 저장하는 영역  

**힙 영역**  
- 동적으로 할당되는 영역  
- 메모리 주소값에 대해서만 참조되고 사용되는 영역  

**데이터 영역**  
- 정적으로 할당되는 영역  
- **전역 변수**와 **정적 변수**가 저장된다. (프로그램 시작 시 할당, 프로그램 종료 시 소멸)  

**코드 영역**  
- 정적으로 할당되는 영역  
- 실행할 프로그램의 **코드**가 저장되는 영역으로 CPU가 코드 영역에서 명령어를 하나씩 가져와 실행  
